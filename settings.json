{
  "$schema": "https://json.schemastore.org/claude-code-settings.json",

  "env": {
    "FRAMEWORK_DIR": "$CLAUDE_PROJECT_DIR"
  },

  "permissions": {
    "allow": [
      "Bash",
      "Read",
      "Write",
      "Edit",
      "Glob",
      "Grep",
      "WebFetch",
      "WebSearch",
      "NotebookEdit",
      "Task",
      "Skill"
    ],
    "deny": [],
    "ask": [
      "Bash(rm -rf /)",
      "Bash(rm -rf /:*)",
      "Bash(sudo rm -rf /)",
      "Bash(rm -rf ~)",
      "Bash(rm -rf ~:*)",
      "Bash(git push --force:*)",
      "Bash(git push -f:*)",
      "Read(~/.ssh/id_*)",
      "Read(~/.ssh/*.pem)",
      "Read(~/.aws/credentials)"
    ],
    "defaultMode": "default"
  },

  "hooks": {
    "SessionStart": [
      {
        "hooks": [
          {
            "type": "command",
            "command": "bun ${CLAUDE_PROJECT_DIR}/hooks/context-loader.hook.ts"
          }
        ]
      }
    ],

    "UserPromptSubmit": [
      {
        "hooks": [
          {
            "type": "command",
            "command": "bun ${CLAUDE_PROJECT_DIR}/hooks/skill-eval.hook.ts"
          },
          {
            "type": "command",
            "command": "bun ${CLAUDE_PROJECT_DIR}/hooks/format-enforcer.hook.ts"
          }
        ]
      }
    ],

    "PreToolUse": [
      {
        "matcher": "Bash",
        "hooks": [
          {
            "type": "command",
            "command": "bun ${CLAUDE_PROJECT_DIR}/hooks/security-validator.hook.ts"
          }
        ]
      }
    ],

    "PostToolUse": [
      {
        "_comment": "Extension point: auto-format, auto-test, or auto-typecheck after file changes. See CUSTOMIZE.md for examples.",
        "_status": "planned",
        "matcher": "Write|Edit",
        "hooks": []
      }
    ],

    "PreCompact": [
      {
        "_comment": "Extension point: save state before context compaction (e.g., create handoff, persist memory).",
        "_status": "planned",
        "hooks": []
      }
    ],

    "SubagentStop": [
      {
        "_comment": "Extension point: post-process subagent output (e.g., aggregate results, quality checks).",
        "_status": "planned",
        "hooks": []
      }
    ],

    "Stop": [
      {
        "hooks": [
          {
            "type": "command",
            "command": "bun ${CLAUDE_PROJECT_DIR}/hooks/stop-orchestrator.hook.ts"
          }
        ]
      }
    ],

    "SessionEnd": [
      {
        "_comment": "Extension point: session cleanup (summaries, learning extraction, handoff creation).",
        "_status": "planned",
        "hooks": []
      }
    ]
  },

  "identity": {
    "name": "Assistant",
    "displayName": "Assistant"
  },

  "principal": {
    "name": "User"
  },

  "_docs": {
    "_overview": "Captain Hooks settings. Fork and customize. See CUSTOMIZE.md.",
    "_identity": "Change identity.name and principal.name to personalize.",
    "_hooks": "Pre-wired lifecycle hooks. Add your own or modify existing.",
    "_permissions": "Security defaults. Adjust ask list for your workflow."
  }
}
